# Identifying DB API

This repository includes an API around a [MongoDB](https://www.mongodb.com/) to restrict user access. 
All endpoints are secured by Bearer Authentication, the Json Web Tokens are generated by [Auth0](https://auth0.com/).
The API is built using [Connexion](https://github.com/zalando/connexion), the first framework for Python to implement [OpenAPI](https://swagger.io/docs/specification/about/). It is served via [gunicorn](https://gunicorn.org/) and watched by [supervisor](http://supervisord.org/).


## Preparation

1. Clone the repository and navigate inside it

2. Change the environment variables in the `docker-compose.yml` within the `identifying_db_api` service (lines 12-13)
    ```
    AUTH0_DOMAIN: "your.domain.auth0.com"
    API_IDENTIFIER: "https://your.domain/yourapi"
    ```

## Build

    $ docker-compose build

## Run

Make sure that the [Api Aggregator](https://github.com/registreerocks/API_aggregator) is running and the `interconnector` network is established. If this is given, you can run

    $ docker-compose up
